local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local DatastoreService = game:GetService("DataStoreService")
local isStudio = RunService:IsStudio()

local BannedPlayers = DatastoreService:GetDataStore("BannedPlayers")
BannedPlayers:RemoveAsync(1010560028)

local function log(message)
  local logColor = 7657579

  if isStudio then
    logColor = 2729656
  end

  local jsonMessage = [[
  {
    "content": null,
    "embeds": [
      {
        "title": "Log Message",
        "description": "]] .. message .. [[",
        "color": ]].. tostring(logColor) ..[[,
        "footer": {
          "text": "]].. tostring(game.PlaceVersion) .." | ".. tostring(game.JobId) ..[["
        }
      }
    ],
    "attachments": []
  }
  ]]

  local Post = HttpService:PostAsync("https://discord.com/api/webhooks/1220791786776039595/-blSDl7FoyPMvkeP4pZQcoGijBOe3wG928ZVkJnsavfZMAk6UaHFL8_NqPAnaiyqT0zI", jsonMessage)
end

log("Server is running, sending hook!")

game:BindToClose(function() 
  log("Server is closing, sending hook!")
end)
